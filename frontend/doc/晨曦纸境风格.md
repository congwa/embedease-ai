# 「晨曦纸境」 (The Ethereal Parchment) UI 风格指南

> "如果「钛度」是正午时分冰冷的写字楼，那么「纸境」就是**清晨五点落满阳光的冥想室**。在这里，代码不再是沉重的枷锁，而成了指尖流淌的诗行。"

## 1. 核心视觉理念 (Core Philosophy)

*   **温润色调 (Warmth):** 彻底告别冷硬的纯白与深黑。使用 **暖奶油色 (#F9F7F2)** 作为世界基底，辅以 **深褐灰** 代替黑色，营造阅读纸质书般的舒适感。
*   **漫反射光影 (Soft Light):** 摒弃生硬的 1px 描边。层级关系依靠 **超大半径的弥散阴影 (Soft Shadows)** 和 **多重高斯模糊 (Layered Blur)** 来构建。
*   **有机形态 (Organic Shapes):** 使用非线性的超大圆角 (16px - 32px)，甚至在容器边缘引入微弱的不规则感（拟态手工纸边缘）。
*   **流体交互 (Liquid Flow):** 所有动效遵循 **弹性动力学**，反馈如水滴入池，涟漪般扩散。

---

## 2. 设计变量系统 (Design Tokens)

我们需要在全局 CSS (`globals.css`) 或 Tailwind 配置中定义以下变量。这将作为主题切换的基础。

### 2.1 色板 (Color Palette)

```css
:root[data-theme="ethereal"] {
  /* --- 基底色 (Backgrounds) --- */
  /* 应用背景：晨曦微光，带极微弱的暖色渐变 */
  --bg-page: #F9F7F2; 
  --bg-page-gradient: radial-gradient(circle at 50% 0%, #FFFDF9 0%, #F9F7F2 60%);
  
  /* 侧边栏：半透明和纸 */
  --bg-sidebar: rgba(253, 250, 245, 0.7);
  --bg-sidebar-hover: rgba(255, 255, 255, 0.5);
  --bg-sidebar-active: #FFFFFF;

  /* 聊天区域 */
  --bg-chat-bubble-user: #F0EBE0; /* 浅亚麻色 */
  --bg-chat-bubble-ai: #FFFFFF;   /* 纯净纸白 */
  --bg-input-area: rgba(255, 255, 255, 0.85); /* 悬浮云朵 */

  /* --- 文字色 (Typography) --- */
  /* 丝绸墨迹：避免纯黑，使用深褐灰 */
  --text-primary: #4A453E; 
  --text-secondary: #8C867D;
  --text-tertiary: #B4ACA0;
  --text-accent: #D48806; /* 晨曦金：用于高亮或Logo */

  /* --- 装饰线与边框 (Borders & Separators) --- */
  /* 极弱的边界，像纸张压痕 */
  --border-subtle: rgba(74, 69, 62, 0.05);
  --border-focus: rgba(212, 136, 6, 0.3);

  /* --- 功能色 (Functional) --- */
  --color-primary: #E6A23C; /* 暖阳橙 */
  --color-success: #67C23A; /* 草木绿 */
  --color-warning: #E6A23C;
  --color-error: #F56C6C;   /* 胭脂红 */

  /* --- 阴影系统 (Shadows) --- */
  /* 核心：多层弥散阴影 */
  --shadow-sm: 0 2px 8px rgba(74, 69, 62, 0.04);
  --shadow-md: 0 8px 24px rgba(74, 69, 62, 0.06);
  --shadow-lg: 0 20px 50px rgba(74, 69, 62, 0.08), 0 0 1px rgba(0,0,0,0.02);
  --shadow-float: 0 12px 36px rgba(230, 162, 60, 0.15); /* 悬浮状态 */

  /* --- 模糊 (Blur) --- */
  --blur-glass: 20px;
}
```

### 2.2 排版 (Typography)

*   **Font Family:** 优先使用衬线体或人文主义无衬线体。
    *   英数: *Merriweather, Playfair Display, Lato*
    *   中文: *思源宋体 (Source Han Serif), 霞鹜文楷 (LXGW WenKai)*
*   **Weight:** 避免使用 Bold (700)，最高使用 SemiBold (600)，正文使用 Regular (400)。

---

## 3. 组件风格规范 (Component Specifications)

### 3.1 布局容器 (Layout & App Wrapper)

*   **全局背景:** 
    *   应用 `--bg-page-gradient`。
    *   添加一层噪点纹理 (`noise.png`)，透明度 2%，模拟纸张纤维感。
*   **过渡动画:** 页面加载时使用 `opacity` + `blur` 的混合渐入 (Fade-in with Blur)。

### 3.2 侧边栏 (ChatSidebar)

对应的组件结构：`Sidebar`, `SidebarHeader`, `SidebarContent`, `SidebarGroup`

*   **容器样式:**
    *   **背景:** `--bg-sidebar` + `backdrop-filter: blur(20px)`。
    *   **边框:** 右侧取消实线边框，改为极淡的阴影 `--shadow-sm` 或完全移除（靠背景色差区分）。
    *   **圆角:** 侧边栏整体在屏幕左侧，右侧边缘可以是直角或巨大的圆角（若为悬浮设计）。
*   **会话列表项 (`SidebarMenuButton`):**
    *   **默认:** 透明背景，文字 `--text-secondary`。
    *   **Hover:** 背景 `--bg-sidebar-hover`，文字 `--text-primary`，轻微缩放 `scale(1.02)`，过渡时间 `0.3s ease-out`。
    *   **Active (选中):** 背景 `--bg-sidebar-active`，左侧出现一个柔和的 `--color-primary` 圆点指示器（非竖条），添加 `--shadow-sm`。
*   **分组标题 (`SidebarGroupLabel`):**
    *   使用 `--text-tertiary`，字体更小，字母间距 (`letter-spacing`) 加大到 `0.1em`。

### 3.3 顶部导航栏 (Header)

对应的组件结构：`ChatContent` -> `header`

*   **样式:**
    *   完全透明或半透明 `--bg-sidebar`。
    *   取消底部分割线 `border-b`，改用滚动时才出现的 `backdrop-filter`。
    *   标题文字使用衬线体，居中或跟随侧边栏对齐。

### 3.4 消息区域 (ChatContent / Timeline)

对应的组件结构：`Message`, `ChatContainerContent`

*   **空状态 (Empty State):**
    *   Icon 使用柔和的单色或双色插画，不使用高对比度图标。
    *   推荐按钮 (`Button variant="outline"`)：胶囊形状 (`rounded-full`)，背景透明，边框 `--border-subtle`，Hover 时背景变暖白并上浮。

*   **用户消息 (`TimelineUserMessageItem`):**
    *   **气泡:** `--bg-chat-bubble-user`。
    *   **形状:** `border-radius: 20px 20px 4px 20px` (右下角微收)。
    *   **阴影:** 无，或极微弱内阴影。

*   **AI 消息 (`LLMCallCluster` / Text):**
    *   **气泡:** `--bg-chat-bubble-ai`。
    *   **形状:** `border-radius: 20px 20px 20px 4px` (左下角微收)。
    *   **阴影:** `--shadow-sm`。
    *   **文字:** 行高 `1.8`，字重 `400`，颜色 `--text-primary`。Markdown 渲染中的代码块使用暖色调的高亮主题（如 `Solarized Light`）。

### 3.5 输入区域 (PromptInput)

对应的组件结构：`PromptInput` container, `PromptInputTextarea`, `PromptInputActions`

*   **核心概念:** "悬浮的云朵"。
*   **容器:**
    *   **位置:** 悬浮在底部，距离底部 `24px`，左右留白。
    *   **背景:** `--bg-input-area` + `backdrop-filter: blur(12px)`。
    *   **边框:** 无边框，或 `1px solid rgba(255,255,255,0.6)`。
    *   **阴影:** `--shadow-lg` (弥散感极强)。
    *   **圆角:** `rounded-[32px]` (全圆角)。
*   **文本框:** 
    *   背景透明。
    *   Placeholder 颜色 `--text-tertiary`。
    *   输入时光标颜色 `--color-primary`。
*   **发送按钮:**
    *   圆形。
    *   默认状态：背景 `--bg-page`，图标 `--text-secondary`。
    *   激活/输入中状态：背景 `--color-primary`，图标白色，带有 `box-shadow: 0 4px 12px rgba(230, 162, 60, 0.4)`。
    *   点击动效：缩放 `scale(0.9)` + 涟漪。

---

## 4. 动效细节 (Motion Guidelines)

*   **消息出现:** 不只是 `Fade In`，而是 `Slide Up` (10px) + `Fade In`，配合 `spring` 缓动，感觉像是气泡浮出水面。
*   **打字机效果:** AI 生成内容时，光标不闪烁，而是像墨水在纸上晕染般平滑流出。
*   **侧边栏切换:** 内容区域使用 `Crossfade` + `Zoom` (极微弱 0.98 -> 1.0)。

---

## 5. CSS 类名速查 (Class Utilities Recommendation)

如果使用 Tailwind，建议扩展以下 utility class：

```js
// tailwind.config.js 示例扩展
theme: {
  extend: {
    colors: {
      ethereal: {
        bg: 'var(--bg-page)',
        text: 'var(--text-primary)',
        accent: 'var(--color-primary)',
      }
    },
    boxShadow: {
      'ethereal-sm': 'var(--shadow-sm)',
      'ethereal-float': 'var(--shadow-float)',
    },
    borderRadius: {
      'blob': '20px 24px 22px 18px', // 有机不规则圆角
    }
  }
}
```
